@using Helium24.Definitions;
@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase<dynamic>

@{

    String userName = "";
    int visitCount = 0;

    bool isAuthenticated = false;
    if(this.Context.CurrentUser != null && this.Context.CurrentUser is User)
    {
        User user = (User)this.Context.CurrentUser;
        isAuthenticated = true;
        userName = user.Name;
        visitCount = user.LoginCount;
    }
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="google-site-verification" content="cScukpQX-5ha2CjIpVu6s6-AJACov7BwotGqxVDyjLE" />
    <meta name="msvalidate.01" content="54833F3A9AB9EF94EABEF305F306DFED" />
    <meta name="viewport" content="width=device-width" />
    <title>@RenderSection("Title")</title>
    <link rel="stylesheet" href="~/Content/Site.css">
    <link rel="stylesheet" href="~/Content/HeaderStyles.css">
    @RenderSection("StyleSheets", false)
</head>
<body>
    <!--Header and main links. Sub-links are added by each child page.-->
    <header>
        <div class="content-wrapper">
            <div class="logoMain">
                <p class="site-title">
                    <a href="/">&nbsp;&nbsp;Helium24.Net&nbsp;&nbsp;</a>
                </p>
            </div>
            <div class="menuMain">
                <ul id="menu">
                    <li><a href="/">Home</a></li>
                    <li><a href="/Maps">Maps</a></li>
                    <li><a href="/Quantum">Quantum</a></li>
                    <li><a href="/ServerStatus">Status</a></li>
                    <li><a href="/Documentation">Table</a></li>
                    <li><a href="/Projects">Projects</a></li>
                    <li><a href="/Secure">Secure</a></li>
                </ul>
            </div>
        </div>
    </header>

    <!--Main Page-->
    @RenderBody()
    <footer> 
        @if (isAuthenticated)
        {
            <div>Welcome @userName (visit #@visitCount)</div>
            <br/>
            <form id="logout" method="post" action="/Secure/Logout">
                <input type=submit value="Logout all sessions" />
            </form>
            <br />
        }
        Site Copyright © Gustave Granroth, @(DateTime.UtcNow.Year). gus.gran@gmail.com
    </footer>

    <!--Scripts!-->
    @RenderSection("Scripts", false)
</body>
</html>
